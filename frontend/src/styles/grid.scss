// Responsive grid system

// Configurable variables
$grid-columns: 12 !default;
$gutter-size: 1rem !default;
$breakpoints: (
  sm: 576px,
  md: 768px,
  lg: 992px,
  xl: 1200px
) !default;

$container-max-widths: (
  sm: 540px,
  md: 720px,
  lg: 960px,
  xl: 1140px
) !default;

// Mixin for container
@mixin container {
  width: 100%;
  margin-right: auto;
  margin-left: auto;
  padding-right: $gutter-size / 2;
  padding-left: $gutter-size / 2;

  @each $breakpoint, $width in $breakpoints {
    $max: map-get($container-max-widths, $breakpoint);
    @media (min-width: $width) {
      max-width: $max;
    }
  }
}

// Mixin for rows
@mixin row {
  display: flex;
  flex-wrap: wrap;
  margin-right: -$gutter-size / 2;
  margin-left: -$gutter-size / 2;
}

// Mixin for columns
@mixin col($span, $total: $grid-columns) {
  flex: 0 0 percentage($span / $total);
  max-width: percentage($span / $total);
  padding-right: $gutter-size / 2;
  padding-left: $gutter-size / 2;
}

// Utility classes
.container {
  @include container;
}

.row {
  @include row;
}

@for $i from 1 through $grid-columns {
  .col-#{$i} {
    @include col($i);
  }
}

@each $breakpoint, $width in $breakpoints {
  @for $i from 1 through $grid-columns {
    .col-#{$breakpoint}-#{$i} {
      @media (min-width: $width) {
        @include col($i);
      }
    }
  }
}
